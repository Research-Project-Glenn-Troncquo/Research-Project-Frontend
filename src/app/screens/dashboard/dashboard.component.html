<div class="container mx-auto px-4 fixedBackground">
  <button (click)="handleSignOut()">sign out</button>
  <div class="flex gap-8 mt-16 items-start">
    <div class="w-1/4 sticky top-24" *ngIf="!user">Loading user...</div>
    <div class="lg:w-1/4 md:w-1/3 md:block sticky hidden top-28" *ngIf="user">
      <div class="bg-white shadow-md rounded-sm relative">
        <img
          class="rounded-full h-20 w-20 absolute left-1/2 transform -translate-x-1/2 -top-10 shadow-md"
          [src]="user.img_url ? user.img_url : '../../../assets/no-profile.png'"
          alt="profile picture of user"
        />

        <div
          class="flex justify-center pt-14 font-semibold text-xl mb-4 transition-all ease-out duration-200 hover:text-p-orange cursor-pointer"
        >
          {{ user.username }}
        </div>
        <ul class="flex pb-4 mb-4 border-b-[1px] group cursor-pointer">
          <li class="flex flex-col items-center border-r-2 w-1/3">
            <p class="text-sm text-gray-400">Following</p>
            <p
              class="group-hover:text-p-orange transition-all ease-out duration-200"
            >
              {{ user.isfollowing ? user.isfollowing.length : 0 }}
            </p>
          </li>
          <li class="flex flex-col items-center border-r-2 w-1/3">
            <p class="text-sm text-gray-400">Followers</p>
            <p
              class="group-hover:text-p-orange transition-all ease-out duration-200"
            >
              {{ user.followers ? user.followers.length : 0 }}
            </p>
          </li>
          <li class="flex flex-col items-center w-1/3">
            <p class="text-sm text-gray-400">Activities</p>
            <p
              class="group-hover:text-p-orange transition-all ease-out duration-200"
            >
              {{ user.posts ? user.posts.length : 0 }}
            </p>
          </li>
        </ul>
        <div class="px-4 pb-4 mb-4 border-b-[1px]">
          <p class="text-gray-400 text-sm">Latest Activity</p>
          <div class="flex text-sm justify-between group">
            <p class="font-semibold group-hover:text-p-orange cursor-pointer">
              {{ latestPost ? latestPost.title : 'No activity yet...' }}
            </p>
            <p class="text-gray-400 group-hover:text-p-orange cursor-pointer">
              {{ latestPost ? (latestPost.date | date: 'mediumDate') : '' }}
            </p>
          </div>
        </div>
        <div
          class="px-4 pb-4 mb-4 flex justify-between items-center group cursor-pointer"
        >
          <p>Your Activities</p>
          <div
            class="group-hover:transform group-hover:translate-x-2 transition-all ease-out duration-200 cursor-pointer"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="32"
              height="32"
              viewBox="0 0 24 24"
              fill="none"
              stroke="#000"
              stroke-width="1"
              stroke-linecap="round"
              stroke-linejoin="round"
            >
              <path d="M9 18l6-6-6-6" />
            </svg>
          </div>
        </div>
      </div>
    </div>

    <div class="xl:w-1/2 md:w-2/3 w-full">
      <div *ngIf="!posts">loading posts ...</div>
      <div *ngIf="posts !== undefined">
        <div *ngFor="let post of posts">
          <app-post [user]="post.user!" [post]="post"></app-post>
        </div>
      </div>
    </div>

    <div class="xl:w-1/4 xl:block sticky top-28 hidden">
      <div>
        <h3 class="text-gray-700 text-3xl font-semibold">Fun facts:</h3>
        <div class="flex mb-4">
          <div class="-ml-4">
            <ng-lottie
              height="72px"
              width="72px"
              [options]="options"
            ></ng-lottie>
          </div>
          <p class="mt-4 text-gray-500">
            18 Litres is how much alcohol russians consume each year.
          </p>
        </div>
        <div class="flex mb-4">
          <div class="-ml-4">
            <ng-lottie
              height="72px"
              width="72px"
              [options]="options"
            ></ng-lottie>
          </div>
          <p class="mt-4 text-gray-500">
            18 Litres is how much alcohol russians consume each year.
          </p>
        </div>
        <div class="flex mb-4">
          <div class="-ml-4">
            <ng-lottie
              height="72px"
              width="72px"
              [options]="options"
            ></ng-lottie>
          </div>
          <p class="mt-4 text-gray-500">
            18 Litres is how much alcohol russians consume each year.
          </p>
        </div>
      </div>
    </div>
  </div>
</div>

<div
  class="bg-black bg-opacity-50 fixed w-screen h-full top-0 left-0 z-10 justify-center items-center fixedBackground hidden"
>
  <div class="bg-white w-96 h-56">hello</div>
</div>
